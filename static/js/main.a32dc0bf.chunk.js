(this["webpackJsonppokemon-dojo"]=this["webpackJsonppokemon-dojo"]||[]).push([[0],{29:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),o=n.n(s),c=n(31),i=n.n(c),r=(n(40),n(41),n(14)),d=n(2),l=n(8),p=n(9),h=n(11),u=n(10),j=n(12),m=n.n(j),b=(n(29),n(59),n(16)),v=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={active:!1},a.handleClick=a.handleClick.bind(Object(b.a)(a)),a}return Object(p.a)(n,[{key:"handleClick",value:function(){var e=!this.state.active;this.setState({active:e})}},{key:"render",value:function(){var e=this.state.active,t=this.props,n=t.name,s=t.id,o=t.sprites,c=t.types;return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("p",{className:"name",children:n}),Object(a.jsx)("p",{className:"id",children:s})]}),Object(a.jsxs)("figure",{className:"sprite-container",children:[Object(a.jsx)("img",{src:e?o.front_shiny:o.front_default,alt:"front sprite",className:"front-sprite"}),Object(a.jsx)("img",{src:e?o.back_shiny:o.back_default,alt:"back sprite",className:"back-sprite"})]}),Object(a.jsx)("button",{type:"button",className:e?"shiny-btn active":"shiny-btn",onClick:this.handleClick,children:"\u2728"}),Object(a.jsxs)("div",{className:"type-container",children:[Object(a.jsx)("div",{className:"type "+c[0],children:c[0]}),Object(a.jsx)("div",{className:c[1]?"type "+c[1]:"none",children:c[1]})]})]})}}]),n}(o.a.Component);n(60);var x=function(){return Object(a.jsxs)("div",{className:"navbar",children:[Object(a.jsx)("h1",{children:"PokeApp"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)(r.b,{to:"/",children:"Pok\xe9dex"}),Object(a.jsx)(r.b,{to:"/random-team",children:"Random Team"}),Object(a.jsx)(r.b,{to:"/search",children:"Search a Pok\xe9mon"})]})]})},f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={pokedex:[],start:0,end:151,gens:{gen1:[0,151],gen2:[151,251],gen3:[251,386],gen4:[386,493],gen5:[493,649],gen6:[649,721],gen7:[721,809],gen8:[809,893]}},e.getPokedex=function(t,n){m.a.get("https://pokeapi.co/api/v2/pokemon?limit=".concat(n-t,"&offset=").concat(t)).then((function(t){var n=t.data.results.map((function(e){return e.url}));e.getAllPokemon(n)}))},e.getAllPokemon=function(t){for(var n=[],a=function(a){m.a.get(t[a]).then((function(e){return e.data})).then((function(s){var o=[{id:s.id,name:s.name,sprites:s.sprites,types:[s.types[0].type.name,""]}];s.types[1]&&(o[0].types[1]=s.types[1].type.name),n=n.concat(o),a===t.length-1&&e.setState({pokedex:n})}))},s=0;s<t.length;s++)a(s)},e.handleChange=function(t){e.setState({start:e.state.gens[t.target.value][0],end:e.state.gens[t.target.value][1]})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.state,t=e.start,n=e.end;this.getPokedex(t,n)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.start,s=n.end;t.start!==a&&this.getPokedex(a,s),console.log("new pokedex is loaded")}},{key:"render",value:function(){var e=this.state.pokedex;return Object(a.jsxs)("div",{children:[Object(a.jsx)(x,{}),Object(a.jsxs)("div",{className:"pokedex",children:[Object(a.jsxs)("select",{name:"generation",id:"generation",onChange:this.handleChange,children:[Object(a.jsx)("option",{value:"gen1",children:"Generation 1 Pokedex (#1 to #151)"}),Object(a.jsx)("option",{value:"gen2",children:"Generation 2 Pokedex (#152 to #251)"}),Object(a.jsx)("option",{value:"gen3",children:"Generation 3 Pokedex (#253 to #386)"}),Object(a.jsx)("option",{value:"gen4",children:"Generation 4 Pokedex (#387 to #493)"}),Object(a.jsx)("option",{value:"gen5",children:"Generation 5 Pokedex (#494 to #649)"}),Object(a.jsx)("option",{value:"gen6",children:"Generation 6 Pokedex (#650 to #721)"}),Object(a.jsx)("option",{value:"gen7",children:"Generation 7 Pokedex (#722 to #809)"}),Object(a.jsx)("option",{value:"gen8",children:"Generation 8 Pokedex (#810 to #893)"})]}),Object(a.jsx)("div",{className:"pokedex-container",children:e.map((function(e){return Object(a.jsx)(v,{name:e.name,id:e.id,sprites:e.sprites,types:e.types},e.id)}))})]})]})}}]),n}(o.a.Component),k=n(33),O=(n(66),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).AddRandomPokemon=function(){var t=Math.floor(898*Math.random())+1;m.a.get("https://pokeapi.co/api/v2/pokemon/".concat(t)).then((function(e){return e.data})).then((function(t){e.setState((function(e){var n={id:0,name:"",sprites:{back_default:"",front_default:"",back_shiny:"",front_shiny:""},types:["",""]};return n.id=t.id,n.name=t.name,n.sprites=t.sprites,n.types[0]=t.types[0].type.name,t.types[1]&&(n.types[1]=t.types[1].type.name),{randomPokemon:[].concat(Object(k.a)(e.randomPokemon),[n])}})),e.setState({randomDisplay:!0})}))},e.getRandomTeam=function(t){for(var n=0;n<t;n++)e.AddRandomPokemon()},e.state={randomDisplay:!1,randomPokemon:[]},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.getRandomTeam(6)}},{key:"render",value:function(){var e=this,t=this.state.randomPokemon;return Object(a.jsxs)("div",{className:"random-page",children:[Object(a.jsx)(x,{}),Object(a.jsx)("button",{type:"button",className:"random",onClick:function(){e.setState({randomPokemon:[]}),e.getRandomTeam(6)},children:" Generate a new team"}),Object(a.jsx)("div",{className:"random-container",children:t.map((function(e){return Object(a.jsx)(v,{name:e.name,id:e.id,sprites:e.sprites,types:e.types},e.id)}))})]})}}]),n}(o.a.Component)),g=n(34),y=(n(67),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState({inputValue:t.target.value,errorMessage:""})},e.getPokeFromSearch=function(){var t=e.state.inputValue.toLowerCase();m.a.get("https://pokeapi.co/api/v2/pokemon/".concat(t)).then((function(e){return e.data})).then((function(t){e.setState((function(n){var a=Object(g.a)({},n.searchedPokemon);return a.types[1]="",a.id=t.id,a.name=t.name,a.sprites=t.sprites,a.types[0]=t.types[0].type.name,t.types[1]&&(a.types[1]=t.types[1].type.name),console.log(e.state),{searchedPokemon:a}})),e.setState({searchDisplay:!0})})).catch((function(t){console.log(t.response),e.setState({errorMessage:"Nous n'avons pas trouv\xe9 ce pok\xe9mon... Essayez le nom en anglais"})}))},e.state={searchDisplay:!1,inputValue:"",errorMessage:"",searchedPokemon:{id:0,name:"",sprites:{back_default:"",front_default:"",back_shiny:"",front_shiny:""},types:["null",""]}},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.state.searchedPokemon;return Object(a.jsxs)("div",{children:[Object(a.jsx)(x,{}),Object(a.jsxs)("div",{className:"search-container",children:[Object(a.jsxs)("div",{className:"input-container",children:[Object(a.jsx)("input",{className:"search-bar",type:"text",placeholder:"enter a pokemon name",value:this.state.inputValue,onChange:this.handleChange}),Object(a.jsx)("button",{type:"button",className:"search-btn",onClick:this.getPokeFromSearch,children:"\ud83d\udd0d "}),Object(a.jsx)("p",{className:"error-message",children:this.state.errorMessage})]}),this.state.searchDisplay?Object(a.jsx)(v,{name:e.name,id:e.id,sprites:e.sprites,types:e.types}):""]})]})}}]),n}(o.a.Component));var P=function(){return Object(a.jsx)(r.a,{basename:"/dojo-react-create-pokedex",children:Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:"/",component:f}),Object(a.jsx)(d.a,{path:"/random-team",component:O}),Object(a.jsx)(d.a,{path:"/search",component:y})]})})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),o(e),c(e)}))};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),N()}},[[68,1,2]]]);
//# sourceMappingURL=main.a32dc0bf.chunk.js.map